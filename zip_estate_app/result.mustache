<!DOCTYPE html>
<html style="height: 100%; margin: 0; padding: 0;">

<head>
  <title>Result</title>
  <link type="text/css" rel="stylesheet" href="table.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <style>
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #map {
      height: 100vh;
      width: 60%;
      margin: auto;
    }
  </style>
</head>

<body>
  <div id="header-container">
    <div id="header-text">
      {{year}}/{{month}} Housing Market for {{property_type}} at {{city_state}} {{zipcode}}
    </div>
  </div>

  <p style="margin-bottom: 10px;">
    <table class="CSS_Table_Example" style="width: 60%; margin: auto;">
      <tr>
        <td>Median List Price $</td>
        <td>Median Sale Price $</td>
        <td>Home Sold</td>
        <td>Pending Sales</td>
        <td>New Listings</td>
        <td>Inventory</td>
        <td>Median Days-on-Market</td>
        <td>Off Market in 2-Week</td>
      </tr>
      <tr>
        <td>{{median_sale_price}}</td>
        <td>{{median_list_price}}</td>
        <td>{{home_sold}}</td>
        <td>{{pending_sales}}</td>
        <td>{{new_listings}}</td>
        <td>{{inventory}}</td>
        <td>{{median_dom}}</td>
        <td>{{off_market_in_two_weeks}}</td>
      </tr>
    </table>
  </p>

  <!-- Map Section -->
  <div id="map"></div>

  <script>
    const latitude = {{latitude}};
    const longitude = {{longitude}};

    // Create the map
    const map = L.map('map').setView([latitude, longitude], 13);

    // Add OpenStreetMap tile layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Add a marker to the map
    L.marker([latitude, longitude]).addTo(map)
      .bindPopup('Your Selected Area')
      .openPopup();
  </script>
</body>

</html>